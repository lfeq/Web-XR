import { existsSync, readFileSync, writeFileSync } from "fs";
import { getPackageJsonPath } from "./path-utils.js";
export function getPackageJson(path) {
    if (!path) {
        return null;
    }
    path = getPackageJsonPath(path);
    if (!path.endsWith("package.json")) {
        return null;
    }
    if (!existsSync(path)) {
        return null;
    }
    const content = readFileSync(path, "utf8");
    return JSON.parse(content);
}
export function savePackageJson(path, obj) {
    if (!path) {
        console.error("ERR:", "No path provided");
        return;
    }
    if (!obj) {
        console.error("ERR:", "No object provided");
        return;
    }
    path = getPackageJsonPath(path);
    writeFileSync(path, JSON.stringify(obj, null, 2));
}
