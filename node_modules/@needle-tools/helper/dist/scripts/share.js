import commandLineArgs from "command-line-args";
import { error } from "../utils/log.js";
import { share } from "../actions/share.js";
const optionDefinitions = [
    { name: 'id', type: String, multiple: false },
    { name: 'directory', type: String, multiple: false },
    { name: 'endpoint', type: String, multiple: false },
    { name: 'access-token', type: String, multiple: false },
    { name: "open", type: Boolean, multiple: false }
];
const options = commandLineArgs(optionDefinitions, { partial: true });
if (!options.id?.length) {
    error("Please specify an id as \"--id <id>\"");
    process.exit(1);
}
if (!options.directory?.length) {
    error("Please specify a directory as \"--directory <path>\"");
    process.exit(1);
}
await share({
    id: options.id,
    assetsDirectory: options.directory,
    storageUrl: options.endpoint,
    access_token: options["access-token"],
    open: options.open
});
