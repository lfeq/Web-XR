import commandLineArgs from "command-line-args";
import { updatePackages as updatePackages } from "../actions/update-package.js";
import { error } from "../utils/log.js";
// > npm run tool:update-packages "C:\git\path\to\project" -- --packages @needle-tools/engine
const optionDefinitions = [
    { name: 'packagejson', type: String, multiple: false, defaultOption: true },
    { name: 'packages', type: String, multiple: true }
];
const options = commandLineArgs(optionDefinitions);
console.log(options);
if (!options.packagejson || options.packagejson.length === 0) {
    error("Please specify a package.json file");
    process.exit(1);
}
if (!options.packages || options.packages.length === 0) {
    error("Please specify one or more packages to update");
    process.exit(1);
}
updatePackages(options.packagejson, options.packages);
