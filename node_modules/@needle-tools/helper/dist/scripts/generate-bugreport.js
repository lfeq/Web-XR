import commandLineArgs from "command-line-args";
import { generateBugReport } from "../actions/report-a-bug.js";
const optionDefinitions = [
    { name: 'file', type: String, multiple: false },
    { name: 'description', type: String, multiple: false },
    { name: 'extra', type: String, multiple: true }
];
const options = commandLineArgs(optionDefinitions, { partial: true });
// LOCAL UPLOAD CMD:
// npm run tool:upload-bugreport -- --url "http://localhost:8080/api/v1/bugreport" --file "C:\path\to\file" --source cli --user "marcel@needle"
run();
async function run() {
    if (!options.file || options.file.length === 0) {
        console.error("No file specified. Use --file <file>");
        process.exit(1);
    }
    const extraFilesOrDirectories = options.extra ? options.extra : [];
    generateBugReport(options.file, undefined, undefined, extraFilesOrDirectories, options.description);
}
