// npm run tool:install-packages "path/to/package.json" --dependencies "@needle-tools/engine:my/path"
import commandLineArgs from "command-line-args";
import { error } from "../utils/log.js";
import { cloneRepository } from "../actions/git-clone.js";
const optionDefinitions = [
    { name: 'url', type: String, multiple: false, defaultOption: true },
    { name: 'targetDir', type: String, multiple: false },
];
const options = commandLineArgs(optionDefinitions, { partial: true });
if (!options.url?.length) {
    error("Please specify a repository URL as \"--url <url>\"");
    process.exit(1);
}
if (!options.targetDir?.length) {
    error("Please specify a target directory as \"--targetDir <path>\"");
    process.exit(1);
}
await cloneRepository(options.url, options.targetDir);
