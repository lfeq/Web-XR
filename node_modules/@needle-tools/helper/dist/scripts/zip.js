import commandLineArgs from "command-line-args";
import { error } from "../utils/log.js";
import { zip } from "../actions/zip.js";
// Invoke options:
//      npm run tool:zip "path/to/file/or/directory"
//      npm run tool:zip -- --source"path/to/file/or/directory" --target "path/to/file/or/directory"
const optionDefinitions = [
    { name: 'source', type: String, multiple: false, defaultOption: true },
    { name: 'target', type: String, multiple: false }
];
const options = commandLineArgs(optionDefinitions);
if (!options.source || options.source.length === 0) {
    error("Please provide a source path --source \"path/to/file/or/directory\"");
    process.exit(1);
}
if (!options.target || options.target.length === 0) {
    options.target = options.source;
}
zip(options.source, options.target);
